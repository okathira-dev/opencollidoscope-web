<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenCollidoscope Web</title>
    <link rel="stylesheet" href="src/styles/main.css">
</head>
<body>
    <div id="app">
        <header class="header">
            <h1>OpenCollidoscope Web</h1>
            <div class="controls">
                <button id="start-audio" class="btn btn-primary">Start Audio</button>
                <button id="record-toggle" class="btn btn-secondary">Record</button>
                <button id="clear-samples" class="btn btn-secondary">Clear</button>
            </div>
        </header>

        <main class="main-content">
            <!-- Visual Canvas -->
            <section class="visualizer-section">
                <canvas id="visualizer" width="800" height="300"></canvas>
            </section>

            <!-- Piano Keyboard -->
            <section class="keyboard-section">
                <div id="piano-keyboard" class="piano-keyboard">
                    <!-- Keys will be generated by JavaScript -->
                </div>
                <div class="keyboard-info">
                    <p>Use your computer keyboard or click the keys above</p>
                    <p>Keys: A S D F G H J K L (white keys) | W E T Y U O P (black keys)</p>
                </div>
            </section>

            <!-- Granular Controls -->
            <section class="controls-section">
                <div class="granular-controls">
                    <div class="control-group">
                        <label for="grain-size">Grain Size</label>
                        <input type="range" id="grain-size" min="10" max="500" value="100" class="slider">
                        <span class="value-display">100ms</span>
                    </div>
                    <div class="control-group">
                        <label for="grain-density">Grain Density</label>
                        <input type="range" id="grain-density" min="1" max="50" value="10" class="slider">
                        <span class="value-display">10</span>
                    </div>
                    <div class="control-group">
                        <label for="grain-pitch">Grain Pitch</label>
                        <input type="range" id="grain-pitch" min="0.25" max="4" value="1" step="0.1" class="slider">
                        <span class="value-display">1.0</span>
                    </div>
                    <div class="control-group">
                        <label for="master-volume">Master Volume</label>
                        <input type="range" id="master-volume" min="0" max="1" value="0.7" step="0.1" class="slider">
                        <span class="value-display">0.7</span>
                    </div>
                </div>
            </section>

            <!-- Sample Management -->
            <section class="samples-section">
                <h3>Audio Samples</h3>
                <div class="sample-upload">
                    <input type="file" id="sample-upload" accept="audio/*" multiple>
                    <label for="sample-upload" class="btn btn-secondary">Upload Samples</label>
                </div>
                <div id="sample-list" class="sample-list">
                    <!-- Sample items will be added here -->
                </div>
            </section>
        </main>
    </div>

    <script type="module" src="src/main.js"></script>
</body>
</html>